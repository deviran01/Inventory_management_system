<!DOCTYPE html>
<html lang="fa">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">

    <link rel="icon" type="image/png" sizes="32x32" href="imgs/png/main-logo.jpg">
    <link rel="icon" type="image/png" sizes="64x64" href="imgs/png/main-logo.jpg">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="css/styles-storage.css">
    <link rel="stylesheet" type="text/css" href="css/icons-fontawesome.css">

    <title>مدیریت انبار</title>
</head>

<body>

<div id="screen-black" class="d-none" onclick="closeAllSides();">
    <span id="open-modal-btn" class="d-none" data-toggle="modal" data-target="#edit-modal"></span>
</div>

<div id="leftSide">
    <h4 class="text-center mb-4 title">
        کسر از انبار
    </h4>
    <form class="mt-3 p-2">
        <div class="form-group">
            <label class="d-block text-right mb-1">
                نام محصول
            </label>
            <input type="text" class="form-control"/>
        </div>
        <div class="form-group">
            <label class="d-block text-right mb-1">
                آلیاژ
            </label>
            <input type="text" class="form-control" placeholder="AC-not"/>
        </div>
        <div class="form-group">
            <label class="d-block text-right mb-1">
                نوع
            </label>
            <input type="text" class="form-control" placeholder="AC-not"/>
        </div>
        <div class="form-group">
            <label class="d-block text-right mb-1">
                تعداد
            </label>
            <input type="number" class="form-control" min="1" value=""/>
        </div>
        <div class="form-group">
            <label class="d-block text-right mb-1">
                تناژ
                <small class="units">kg</small>
            </label>
            <input type="number" class="form-control" min="1" value=""/>
        </div>
        <div class="form-group">
            <label class="d-block text-right mb-1">
                طول
                <small class="units">m</small>
            </label>
            <input type="number" class="form-control" min="1" value="" step="0.01"/>
        </div>
        <div class="form-group">
            <label class="d-block text-right mb-1">
                قطر
                <small class="units">cm</small>
            </label>
            <input type="number" class="form-control" step="0.01"/>
        </div>
        <div class="form-group clearfix">
            <button class="btn btn-danger float-right">
                کسر شود
            </button>
            <a href="#closeL" class="btn btn-outline-secondary float-right mr-3" onclick="closeLeftSide();">
                انصراف
            </a>
        </div>
        <section class="result-box">
            <div class="alert alert-success">
                    <span class="d-block text-right">
                        اطلاعات به درستی ثبت شدند
                        <i class="fas fa-check ml-2"></i>
                    </span>
            </div>
            <div class="alert alert-danger">
                    <span class="d-block text-right">
                        خطا در کسر
                        <i class="fa fa-exclamation-triangle ml-2"></i>
                    </span>
            </div>
        </section>
    </form>
</div>

<div id="rightSide">
    <section>
        <h4 class="text-center mb-4 title">
            افزودن به انبار
        </h4>
        <form class="mt-3 p-2">
            <div class="form-group">
                <label class="d-block text-right mb-1">
                    نام محصول
                </label>
                <input type="text" class="form-control"/>
            </div>
            <div class="form-group">
                <label class="d-block text-right mb-1">
                    آلیاژ
                </label>
                <input type="text" class="form-control" placeholder="AC-not"/>
            </div>
            <div class="form-group">
                <label class="d-block text-right mb-1">
                    نوع
                </label>
                <input type="text" class="form-control" placeholder="AC-not"/>
            </div>
            <div class="form-group">
                <label class="d-block text-right mb-1">
                    تعداد
                </label>
                <input type="number" class="form-control" min="1" value=""/>
            </div>
            <div class="form-group">
                <label class="d-block text-right mb-1">
                    تناژ
                    <small class="units">kg</small>
                </label>
                <input type="number" class="form-control" min="1" value=""/>
            </div>
            <div class="form-group">
                <label class="d-block text-right mb-1">
                    طول
                    <small class="units">m</small>
                </label>
                <input type="number" class="form-control" min="1" value="" step="0.01"/>
            </div>
            <div class="form-group">
                <label class="d-block text-right mb-1">
                    قطر
                    <small class="units">cm</small>
                </label>
                <input type="number" class="form-control" step="0.01"/>
            </div>
            <div class="form-group clearfix">
                <button class="btn btn-success float-right">
                    افزوده شود
                </button>
                <a href="#closeL" class="btn btn-outline-secondary float-right mr-3" onclick="closeRightSide();">
                    انصراف
                </a>
            </div>
            <section class="result-box">
                <div class="alert alert-success">
                        <span class="d-block text-right">
                            اطلاعات به درستی ثبت شدند
                            <i class="fas fa-check ml-2"></i>
                        </span>
                </div>
                <div class="alert alert-danger">
                        <span class="d-block text-right">
                            خطا در افزودن
                            <i class="fa fa-exclamation-triangle ml-2"></i>
                        </span>
                </div>
            </section>
        </form>
    </section>
</div>

<div id="bottomSide">
    <div class="inside" >
        <section class="container-fluid">
            <div class="row pb-3">
                <form action="#search" method="post" class="col-12 mt-3 dir-r">
                    <section class="row">
                        <div class="col-lg-6 form-group">
                            <label class="d-block text-right mb-1">
                                نام محصول
                            </label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-lg-6 form-group">
                            <label class="d-block text-right mb-1">
                                آلیاژ
                            </label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-lg-6 form-group">
                            <label class="d-block text-right mb-1">
                                تناژ
                                <small class="units">KG</small>
                            </label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-lg-6 form-group">
                            <label class="d-block text-right mb-1">
                                طول
                                <small class="units">M</small>
                            </label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-lg-6 form-group">
                            <label class="d-block text-right mb-1">
                                قطر
                                <small class="units">CM</small>
                            </label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-12 form-group text-right pt-1">
                            <button class="btn btn-warning">
                                جستجو
                                <i class="fas fa-search mr-2"></i>
                            </button>
                        </div>
                    </section>
                </form>
            </div>
        </section>
    </div>
</div>


<div class="p-2" id="box-main">

    <!--  table title - description  -->
    <div>
        <h3 class="text-right">
            لیست همه ی محصولات اینجاست
        </h3>
        <small class="d-block text-right">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aspernatur autem consequatur
        </small>
    </div>

    <!--    table-->
    <div class="mt-5">
        <table class="table table-responsive-xl dir-r mb-2" id="table-main">
            <!--            icon png -->
            <tr>
                <th>

                </th>
                <th>
                    <img src="imgs/svg2/name-tag.svg" alt="">
                </th>
                <th>
                    <img src="imgs/svg2/compass.svg" alt="">
                </th>
                <th>
                    <img src="imgs/svg2/factory-2.svg" alt="">
                </th>
                <th>
                    <img src="imgs/svg2/double-arrow-1.svg" alt="">
                </th>
                <th>
                    <img src="imgs/svg2/shipping-and-delivery.svg" alt="laskd;">
                </th>
                <th>
                    <img src="imgs/svg2/count.svg" alt="">
                </th>
                <th>
                    <img src="imgs/svg2/link.svg" alt="storehouse icon">
                </th>
                <th>
                    <img src="imgs/svg2/warehouse.svg" alt="storehouse icon">
                </th>
                <th>
                    نقد
                </th>
                <th>
                    عرف
                </th>
                <th>
                    مشتری 1
                </th>
                <th>
                    مشتری 2
                </th>
                <th>
                    برش خورده
                </th>
                <th>
                    ویرایش
                </th>
            </tr>
            <!--<tr>
                <th>

                </th>
                <th>
                    نام
                </th>
                <th>
                    قطر
                </th>
                <th>
                    کارخانه
                </th>
                <th>
                    طول
                </th>
                <th>
                    تناژ
                </th>
                <th>
                    تعداد
                </th>
                <th>
                    آلیاژ
                </th>
                <th>
                    انبار
                </th>
                <th>
                    نقد
                </th>
                <th>
                    عرف
                </th>
                <th>
                    مشتری 1
                </th>
                <th>
                    مشتری 2
                </th>
                <th>
                    برش خورده
                </th>
                <th>
                    ویرایش
                </th>
            </tr>-->
            <tr>
                <td>1</td>
                <td>تیراهن</td>
                <td>20</td>
                <td>صنایع یزد</td>
                <td>25.65</td>
                <td>4500</td>
                <td>72</td>
                <td>مس-فولاد</td>
                <td>امینی</td>
                <td>5,300</td>
                <td>5,800</td>
                <td>6,200</td>
                <td>6,900</td>
                <td>7,500</td>
                <td>
                    <img src="imgs/svg2/edit-4.svg" alt="ویرایش"/>
                </td>
            </tr>
            <tr>
                <td>2</td>
                <td>تیراهن</td>
                <td>25</td>
                <td>صنایع یزد</td>
                <td>25.4</td>
                <td>4100</td>
                <td>65</td>
                <td>مس-فولاد</td>
                <td>احمدی</td>
                <td>4,300</td>
                <td>5,800</td>
                <td>6,200</td>
                <td>6,900</td>
                <td>7,100</td>
                <td>
                    <img src="imgs/svg2/edit-4.svg" alt="ویرایش"/>
                </td>
            </tr>
            <tr>
                <td colspan="15" class="report">
                    <span class="triangle"></span>
                    <b class="report-info">
                        15 تن
                        ,
                        16 شاخه
                    </b>
                </td>
            </tr>
            <tr>
                <td>3</td>
                <td>ورق</td>
                <td>15</td>
                <td>صنایع یزد</td>
                <td>28.4</td>
                <td>4900</td>
                <td>45</td>
                <td>چدن</td>
                <td>احمدی</td>
                <td>1,300</td>
                <td>5,200</td>
                <td>8,200</td>
                <td>6,900</td>
                <td>9,300</td>
                <td>
                    <img src="imgs/svg2/edit-4.svg" alt="ویرایش"/>
                </td>
            </tr>
            <tr>
                <td>4</td>
                <td>ورق</td>
                <td>17</td>
                <td>صنایع کرمان</td>
                <td>18.4</td>
                <td>4900</td>
                <td>45</td>
                <td>آهن</td>
                <td>احمدی</td>
                <td>5,300</td>
                <td>5,200</td>
                <td>9,200</td>
                <td>6,900</td>
                <td>7,300</td>
                <td>
                    <img src="imgs/svg2/edit-4.svg" alt="ویرایش"/>
                </td>
            </tr>
            <tr>
                <td>5</td>
                <td>ورق</td>
                <td>55</td>
                <td>صنایع یزد</td>
                <td>29.4</td>
                <td>4300</td>
                <td>40</td>
                <td>چدن</td>
                <td>احمدی</td>
                <td>1,300</td>
                <td>6,200</td>
                <td>8,200</td>
                <td>6,500</td>
                <td>10,800</td>
                <td>
                    <img src="imgs/svg2/edit-4.svg" alt="ویرایش"/>
                </td>
            </tr>
            <tr>
                <td colspan="15" class="report">
                    <span class="triangle"></span>
                    <b class="report-info">
                        8 تن
                        ,
                        9 ورق
                    </b>
                </td>
            </tr>
        </table>
    </div>
</div>


<!--
controllers
-->
<div id="open-right-side">
    <button class="btn btn-success" onclick="openRightSide()">
        <i class="fas fa-angle-double-left"></i>
    </button>
</div>
<div id="open-left-side">
    <button class="btn btn-danger" onclick="openLeftSide()">
        <i class="fas fa-angle-double-right"></i>
    </button>
</div>
<div id="open-bottom-side" class="container-fluid text-center">
    <button class="btn btn-warning" onclick="openBottomSide()">
        <i class="fas fa-angle-double-up"></i>
    </button>
</div>


<!--
edit modal
-->
<div class="modal fade" id="edit-modal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog"
     aria-labelledby="staticBackdropLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <section class="modal-header">
                <h6 class="w-100 mb-0">
                    ویرایش اطلاعات جدول
                    <i class="fas fa-times float-left" id="modal-close" data-dismiss="modal"></i>
                </h6>
            </section>
            <section>
                <form id="modal-form-edit" action="#edit" method="POST">
                    <section id="form-wrapper">

                    </section>
                    <div class="text-right">
                        <a href="#close-modal" class="btn btn-light border mr-2" data-dismiss="modal">
                            انصراف
                        </a>
                        <button class="btn btn-info">
                            اعمال تغییرات
                        </button>
                    </div>
                </form>
            </section>
        </div>
    </div>
</div>


<script src="js/jquery-3.5.1.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>

    // leftSide
    function openLeftSide() {
        $("#open-left-side button").fadeOut();
        $("#leftSide").attr("class", "animate__animated animate__fadeInLeft animate__faster");
        $("#leftSide").show();
        $("#screen-black").removeClass("d-none");
    }

    function closeLeftSide() {
        $("#leftSide").attr("class", "animate__animated animate__fadeOutLeft animate__fast");
        setTimeout(function () {
            $("#leftSide").hide(0);
        }, 500);
        $("#screen-black").addClass("d-none");
        $("#open-left-side button").delay(100).fadeIn();
    }

    // rightSide
    function openRightSide() {
        $("#open-right-side button").fadeOut();
        $("#rightSide").attr("class", "animate__animated animate__fadeInRight animate__faster");
        $("#rightSide").show();
        $("#screen-black").removeClass("d-none");
    }

    function closeRightSide() {
        $("#rightSide").attr("class", "animate__animated animate__fadeOutRight animate__fast");
        setTimeout(function () {
            $("#rightSide").hide(0);
        }, 500);
        $("#screen-black").addClass("d-none");
        $("#open-right-side button").delay(100).fadeIn();
    }

    function closeAllSides() {
        closeLeftSide();
        closeRightSide();
        closeBottomSide();
    }

    // bottom side
    function openBottomSide() {
        $("#bottomSide").attr("class", "animate__animated animate__fadeInUp animate__faster");
        $("#bottomSide").show();
        $("#screen-black").addClass("bg-tr");
        $("#screen-black").removeClass("d-none");
    }

    function closeBottomSide() {
        $("#bottomSide").attr("class", "animate__animated animate__fadeOutDown animate__fast");
        setTimeout(function () {
            $("#bottomSide").hide(0);
        }, 500);
        $("#screen-black").addClass("d-none");
        $("#screen-black").removeClass("bg-tr");
    }

	// all product names must be here to have better search
	var allProductNames = [
		"تیرآهن",
		"ورقه",
		"..."
	];

    var titrs = [
        ["type='text'", "نام" , "text-right"],
        ["type='number' step='0.01'", "قطر" , ""],
        ["type='text'", "کارخانه" , "text-right"],
        ["type='number' step='0.01'", "طول" , ""],
        ["type='number' step='0.01'", "تناژ" , ""],
        ["type='number' step='0.01'", "تعداد" , ""],
        ["type='text'", "آلیاژ" , "text-right"],
        ["type='text'", "انبار" , "text-right"],
        ["type='text'", "قیمت نقد" , ""],
        ["type='text'", "قیمت عرف" , ""],
        ["type='text'", "قیمت مشتری 1" , ""],
        ["type='text'", "قیمت مشتری 2" , ""],
        ["type='text'", "قیمت برش خورده" , ""]
    ];

    function openEditModal(tag) {

        let forms = "";
        tr = tag.parents("tr");
        tr.find("td:not(:first-child):not(:last-child)").each(function (i, e) {

            let txt = $(this).text();
            forms +=
                "<div class='form-group'>" +
                "<label class='mb-0 d-block text-right'>" + titrs[i][1] + "</label>" +
                "<input " + titrs[i][0] + " class='form-control " + titrs[i][2] + " ' value='" + txt + "'  /> " +
                "</div>";
        });
        $("#form-wrapper").html(forms);
        forms = "";
        // open modal
        $('#open-modal-btn').trigger("click");
    }

    $("#table-main tr td:last-child img").click(function () {
        let tag = $(this);
        openEditModal(tag);
    });


    $(window).resize(function () {
        // if ($(this).width() < 650) {
        //     $("#table-main tr:nth-child(2)").attr("class", "d-none");
        
        // } else {
        //     $("#table-main tr:nth-child(2)").attr("class", "");
        // }
    });
</script>
</body>

</html>